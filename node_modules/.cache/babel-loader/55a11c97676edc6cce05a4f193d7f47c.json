{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\iraka\\\\OneDrive\\\\Desktop\\\\ira-front\\\\src\\\\screens\\\\EditBooks\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport Select from 'react-select';\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EditBook(props) {\n  _s();\n\n  const {\n    id\n  } = props;\n  const [authors, setAuthors] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [book, setBook] = useState({});\n\n  function fillFields(data) {\n    for (const [key, value] of Object.entries(data)) {\n      let input = document.querySelector(`[name=\"${key}\"]`);\n\n      if (input) {\n        input.value = value;\n      }\n    }\n  }\n\n  useEffect(() => {\n    axios.get('http://localhost:3001/authors').then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        console.log('Error!');\n        throw new Error('Could not authenticate you!');\n      }\n\n      return res.data.authors;\n    }).then(authors => {\n      setAuthors(authors);\n    });\n    axios.get('http://localhost:3001/categories').then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        console.log('Error!');\n        throw new Error('Could not authenticate you!');\n      }\n\n      return res.data.categories;\n    }).then(categories => {\n      setCategories(categories);\n    });\n    axios.get(`http://localhost:3001/books`).then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        console.log('Error!');\n        throw new Error('Could not authenticate you!');\n      }\n\n      return res.data.books;\n    }).then(books => {\n      const book = books.find(book => book._id = id); //fillFields(book);\n    });\n  }, []);\n  let optionsAuthor = authors.map(function (author) {\n    return {\n      value: author.name,\n      label: author.name\n    };\n  });\n  let optionsCategories = categories.map(function (category) {\n    return {\n      value: category.name,\n      label: category.name\n    };\n  });\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add-materials\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Edit Book\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input-type-text\",\n        type: \"text\",\n        name: \"title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        className: \"input-type-select\",\n        name: \"author\",\n        options: optionsAuthor\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"input-type-text\",\n        name: \"description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        className: \"input-type-select\",\n        isMulti: true,\n        name: \"categories\",\n        options: optionsCategories\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"button-submit\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EditBook, \"3WiFgb7GgSzPj68reWbqhxHFATE=\");\n\n_c = EditBook;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditBook\");","map":{"version":3,"sources":["C:/Users/iraka/OneDrive/Desktop/ira-front/src/screens/EditBooks/index.jsx"],"names":["Select","axios","useEffect","useState","EditBook","props","id","authors","setAuthors","categories","setCategories","book","setBook","fillFields","data","key","value","Object","entries","input","document","querySelector","get","then","res","status","console","log","Error","books","find","_id","optionsAuthor","map","author","name","label","optionsCategories","category"],"mappings":"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","sourcesContent":["import Select from 'react-select';\r\nimport axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default function EditBook(props) {\r\n  const { id } = props;\r\n  const [authors, setAuthors] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [book, setBook] = useState({});\r\n\r\n  function fillFields(data) {\r\n    for (const [key, value] of Object.entries(data)) {\r\n      let input = document.querySelector(`[name=\"${key}\"]`);\r\n      if(input)\r\n      {\r\n        input.value = value;\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    axios.get('http://localhost:3001/authors')\r\n      .then(res => {\r\n        if (res.status !== 200 && res.status !== 201) {\r\n          console.log('Error!');\r\n          throw new Error('Could not authenticate you!');\r\n        }\r\n        return res.data.authors;\r\n      })\r\n      .then((authors) => {\r\n        setAuthors(authors);\r\n      });\r\n\r\n\r\n    axios.get('http://localhost:3001/categories')\r\n      .then(res => {\r\n        if (res.status !== 200 && res.status !== 201) {\r\n          console.log('Error!');\r\n          throw new Error('Could not authenticate you!');\r\n        }\r\n        return res.data.categories;\r\n      })\r\n      .then((categories) => {\r\n        setCategories(categories);\r\n      });\r\n\r\n    axios.get(`http://localhost:3001/books`)\r\n      .then(res => {\r\n        if (res.status !== 200 && res.status !== 201) {\r\n          console.log('Error!');\r\n          throw new Error('Could not authenticate you!');\r\n        }\r\n        return res.data.books;\r\n      })\r\n      .then(books => {\r\n        const book = books.find(book => book._id = id);\r\n        //fillFields(book);\r\n      })\r\n  }, []);\r\n\r\n\r\n  let optionsAuthor = authors.map(function (author) {\r\n    return { value: author.name, label: author.name };\r\n  })\r\n\r\n\r\n  let optionsCategories = categories.map(function (category) {\r\n    return { value: category.name, label: category.name };\r\n  })\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n\r\n    <main >\r\n      <div className=\"add-materials\">\r\n        <h1>Edit Book</h1>\r\n        <input className=\"input-type-text\" type=\"text\" name=\"title\"></input>\r\n        <Select className=\"input-type-select\" name=\"author\" options={optionsAuthor} />\r\n        <textarea className=\"input-type-text\" name=\"description\"></textarea>\r\n        <Select className=\"input-type-select\" isMulti name=\"categories\" options={optionsCategories} />\r\n        <input type=\"file\"></input>\r\n      </div>\r\n      <div className=\"button-submit\">\r\n        <button type=\"submit\">Add</button>\r\n      </div>\r\n\r\n    </main>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}